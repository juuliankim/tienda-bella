(this["webpackJsonptienda-bella"]=this["webpackJsonptienda-bella"]||[]).push([[0],{26:function(e,t,c){e.exports={title:"navbar_title__dDnBL",menu:"navbar_menu__1acZy",subMenu:"navbar_subMenu__JvL66"}},34:function(e,t,c){e.exports={row:"itemListContainer_row__3XZZo"}},35:function(e,t,c){e.exports={card:"item_card__3ZSaY"}},36:function(e,t,c){e.exports={row:"itemList_row__1X0Z3"}},42:function(e,t,c){},43:function(e,t,c){},54:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c.n(n),i=c(22),o=c.n(i),a=(c(42),c(43),c(6)),s=c(33),j=c.n(s),d=c(25),l=c(17),b=c(8),u=c(1),O=r.a.createContext([]),h=function(e){var t=e.children,c=Object(n.useState)([]),r=Object(b.a)(c,2),i=r[0],o=r[1],a=i.reduce((function(e,t){return e+t.contador}),0);return Object(u.jsx)(O.Provider,{value:{cart:i,addCart:function(e){var t=i.find((function(t){return t.categoryId===e.categoryId}));o(t?i.map((function(c){return c.categoryId===e.categoryId?Object(l.a)(Object(l.a)({},t),{},{contador:t.contador+e.contador}):c})):function(t){return[].concat(Object(d.a)(t),[e])})},removeCart:function(e){var t=i.filter((function(t){return t.categoryId!==e}));o(t)},clearCart:function(){return o([])},itemCost:function(e){return e.price*e.contador},totalCost:function(){return i.reduce((function(e,t){return e+t.price*t.contador}),0)},quantItem:a},children:t})},x=function(){var e=Object(n.useContext)(O).quantItem;return Object(u.jsxs)(u.Fragment,{children:[e,Object(u.jsx)(j.a,{})]})},p=c(26),f=function(){return Object(u.jsxs)("nav",{children:[Object(u.jsx)(a.b,{to:"/",className:p.title,children:"Bella"}),Object(u.jsxs)("ul",{className:p.menu,children:[Object(u.jsxs)("li",{children:[Object(u.jsx)(a.b,{to:"/categorias",children:"Categorias"}),Object(u.jsxs)("ul",{className:p.subMenu,children:[Object(u.jsx)("li",{children:Object(u.jsx)(a.b,{to:"/categorias/Vestidos",children:"Vestidos"})}),Object(u.jsx)("li",{children:Object(u.jsx)(a.b,{to:"/categorias/Calzas",children:"Calzas"})}),Object(u.jsx)("li",{children:Object(u.jsx)(a.b,{to:"/categorias/Blusas",children:"Blusas"})})]})]}),Object(u.jsx)("li",{children:Object(u.jsx)(a.b,{to:"/carrito",children:Object(u.jsx)(x,{})})})]})]})},m=c(5),g=c(34),v=c(35),C=function(e){var t=e.producto;return Object(u.jsxs)("div",{className:v.card,children:[Object(u.jsx)("h3",{children:t.title}),Object(u.jsx)("img",{src:t.image,alt:t.title,width:"300",height:"300"}),Object(u.jsxs)("p",{children:["Precio: ",t.price]}),Object(u.jsxs)("p",{children:["Stock: ",t.stock]}),Object(u.jsx)(a.b,{to:"/tienda/".concat(t.title),children:"Ver mas"})]})},y=c(36),I=function(e){var t=e.producto;return Object(u.jsx)("div",{className:y.row,children:t.map((function(e){return Object(u.jsx)(C,{producto:e},e.categoryId)}))})},k=c(21),S=(c(32),k.a.initializeApp({apiKey:"AIzaSyASfXfursWbdxpCiAJtYieaTXKRPfHJGTc",authDomain:"proyecto-final-react-js.firebaseapp.com",projectId:"proyecto-final-react-js",storageBucket:"proyecto-final-react-js.appspot.com",messagingSenderId:"647626499570",appId:"1:647626499570:web:04ec5a3b50469c09a4376b",measurementId:"G-PCLR8NYLHR"}));function _(){return k.a.firestore(S)}var w=function(e){var t=Object(n.useState)([]),c=Object(b.a)(t,2),r=c[0],i=c[1],o=Object(m.f)().categoryId;return Object(n.useEffect)((function(){var e,t=_();e=o?t.collection("ITEMS").where("categoryId","==",o):t.collection("ITEMS"),console.log("docRef",e),e.get().then((function(e){0===e.size&&console.log("No existen resultados"),i(e.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})))}))}),[o]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:g.row,children:Object(u.jsx)(I,{producto:r})})})},F=(c(54),c(55),function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)(""),o=Object(b.a)(i,2),s=o[0],j=o[1],l=Object(n.useState)(""),h=Object(b.a)(l,2),x=h[0],p=h[1],f=Object(n.useState)(),m=Object(b.a)(f,2),g=m[0],v=m[1],C=Object(n.useContext)(O),y=C.cart,I=C.removeCart,S=C.clearCart,w=C.totalCost,F=C.itemCost;return Object(u.jsxs)(u.Fragment,{children:[y.length>0?Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Producto"}),Object(u.jsx)("th",{children:"Nombre"}),Object(u.jsx)("th",{children:"Cantidad"}),Object(u.jsx)("th",{children:"Precio"}),Object(u.jsx)("th",{children:"Total"})]})}),Object(u.jsx)("tbody",{children:y.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)("img",{src:e.image,alt:"img",style:{width:"82px"}})}),Object(u.jsx)("td",{children:e.title}),Object(u.jsx)("td",{children:e.contador}),Object(u.jsx)("td",{children:e.price}),Object(u.jsx)("td",{children:F(e)}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){return I(e.categoryId)},children:"Eliminar"})})]},e.categoryId)}))}),Object(u.jsxs)("tbody",{children:[Object(u.jsx)("td",{}),Object(u.jsxs)("td",{children:["Precio total: $",w()]}),Object(u.jsx)("td",{}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:S,children:"Limpiar Carrito"})})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:"No se tiene productos seleccionados"}),Object(u.jsx)(a.b,{to:"/",children:Object(u.jsx)("button",{children:"Volver a la tienda"})})]}),Object(u.jsx)("p",{children:"Agrega tus datos para finalizar la compra"}),Object(u.jsx)("input",{type:"text",placeholder:"Nombre",onChange:function(e){r(e.target.value)}}),Object(u.jsx)("input",{type:"text",placeholder:"Email",onChange:function(e){j(e.target.value)}}),Object(u.jsx)("input",{type:"text",placeholder:"Telefono",onChange:function(e){p(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{onClick:function(){return function(){var e={buyer:{name:c,email:s,telefono:x},items:Object(d.a)(y),date:k.a.firestore.FieldValue.serverTimestamp(),total:w()};console.log("numberId",g),_().collection("ORDENES").add(e).then((function(e){v(e.id),alert("Su numero de orden: "+g)})),S()}()},children:"Comprar"})]})}),N=(new Promise((function(e,t){setTimeout((function(){e([{id:1,nombre:"Vestido",precio:750,stock:50,contador:0,descripcion:"Vestido de fibrana lisa",url:"https://i.ibb.co/0BsJFb6/vestido.jpg"},{id:2,nombre:"Blusa",precio:500,stock:50,contador:0,descripcion:"Blusa de fibrana lisa con boton atras",url:"https://i.ibb.co/RpkrNT2/blusa.jpg"},{id:3,nombre:"Remera",precio:450,stock:50,contador:0,descripcion:"Remera de morley viscosa con tajo en la espalda",url:"https://i.ibb.co/GsVzSZS/remera.jpg"},{id:4,nombre:"Calza",precio:600,stock:50,contador:0,descripcion:"Calza de bengalina lisa con corte jean",url:"https://i.ibb.co/F6mxBZV/calza.jpg"},{id:5,nombre:"Babucha",precio:650,stock:50,contador:0,descripcion:"Babucha de morley viscosa",url:"https://i.ibb.co/DMCgh2n/babucha.jpg"}])}),2e3)})),function(e){var t=e.onAdd,c=e.stock,n=e.descripcion,r=e.inicial,i=e.contador,o=e.setContador;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{onClick:function(){i>r&&o(i-1)},children:"-"}),Object(u.jsx)("b",{children:i}),Object(u.jsx)("button",{onClick:function(){i<c?o(i+1):alert("Nos quedamos sin stock")},children:"+"}),Object(u.jsx)("div",{children:Object(u.jsxs)("b",{children:[n,":",c]})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){t(i)},children:"Comprar"})})]})}),B=function(e){var t=e.producto,c=Object(n.useState)(!1),r=Object(b.a)(c,2),i=r[0],o=r[1],s=Object(n.useState)(1),j=Object(b.a)(s,2),d=j[0],l=j[1],h=Object(n.useContext)(O),x=h.addCart,p=h.cart;return console.log(p),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:t.title}),Object(u.jsx)("img",{src:t.image,alt:"",width:"400",height:"550"}),Object(u.jsxs)("p",{children:["Precio: ",t.price]}),Object(u.jsxs)("p",{children:["Descripcion: ",t.description]})]}),Object(u.jsx)("div",{children:i?Object(u.jsx)(a.b,{to:"/carrito",children:Object(u.jsx)("button",{children:"Ir al Carrito"})}):Object(u.jsx)(N,{onAdd:function(){console.log("Ud selecciono ",d),o(!0),x({categoryId:t.categoryId,title:t.title,price:t.price,image:t.image,description:t.description,stock:t.stock,contador:d})},descripcion:"tenemos en Stock",stock:t.stock,inicial:1,contador:d,setContador:l})})]})},T=function(e){var t=Object(n.useState)({}),c=Object(b.a)(t,2),r=c[0],i=c[1],o=Object(m.f)().title;return Object(n.useEffect)((function(){_().collection("ITEMS").where("title","==",o).get().then((function(e){if(e.docs.length>0){var t=e.docs.map((function(e){return Object(l.a)({id:e.id},e.data())}));console.log(t),i(t[0])}}))}),[o]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(B,{producto:r})})},P=function(){return Object(u.jsx)(a.a,{children:Object(u.jsxs)(h,{children:[Object(u.jsx)(f,{}),Object(u.jsxs)(m.c,{children:[Object(u.jsx)(m.a,{exact:!0,path:"/",children:Object(u.jsx)(w,{})}),Object(u.jsx)(m.a,{path:"/tienda/:title",children:Object(u.jsx)(T,{})}),Object(u.jsx)(m.a,{path:"/categorias/:categoryId",children:Object(u.jsx)(w,{})}),Object(u.jsx)(m.a,{exact:!0,path:"/carrito",children:Object(u.jsx)(F,{})})]})]})})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,69)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;c(e),n(e),r(e),i(e),o(e)}))};o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(P,{})}),document.getElementById("root")),z()}},[[57,1,2]]]);
//# sourceMappingURL=main.36cf1a6f.chunk.js.map